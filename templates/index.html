<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mathly Dashboard</title>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>
<body>
    <header>
        <nav>
            <a href="/">Home</a>
            <a href="/logout" style="color: red;">Logout</a>
        </nav>
        <h1>Welcome, {{ user.username }}</h1>
        <p><strong>Level:</strong> {{ (user.xp ** 0.5) | int }} | <strong>XP:</strong> {{ user.xp }}</p>
    </header>

    <main>
        <section>
            <h3>Add New Knowledge</h3>
            <form method="POST" action="/">
                <label>Question</label>
                <input type="text" name="user_input" required placeholder="e.g. Derivative of e^x?" style="width: 100%;">
                <button type="submit">Save to Deck (+10 XP)</button>
            </form>
        </section>

        <hr>

        <section>
            <h3>Your Deck ({{ cards|length }} Cards)</h3>
            <div style="display: grid; gap: 1rem;">
                {% for card in cards %}
                    <article style="border: 1px solid #ccc; padding: 1rem; border-radius: 8px;">
                        <p><strong>Q:</strong> {{ card.text }}</p>
                        <a href="#" style="color: grey; font-size: 0.8rem;">[Edit]</a>
                    </article>
                {% else %}
                    <p>Your deck is empty. Add a card to gain XP.</p>
                {% endfor %}
            </div>
        </section>
    </main>
</body>
</html>